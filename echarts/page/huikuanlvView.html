<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>回款率</title>
    <link rel="stylesheet" href="../css/page.css">
    <script type="text/javascript" src="//a.mysteelcdn.com/libs/echarts/echarts.min.js"></script>
    <script type="text/javascript" src="//a.mysteelcdn.com/libs/jquery.min.js"></script>
</head>
<body>
<div class="hk-view">
    <div class="hk-v" id="huikuanlv"></div>
</div>
</body>
<script type="text/javascript">
    getDatas('huikuanlv', 'DashBoard/getBackProgress', {'frequency': 'month', 'section': ''}, '回款率')
    function getDatas(id, url, data, title) {
        $.get('http://192.168.202.149:8080/' + url, data, function (res) {
            if (res.status == '1') {
                option = {
                    title: {
                        text: '',
                        textStyle:{
                            color: '#00ecfc',
                            fontSize: '16',
                        }
                    },
                    color: ['#00cce4', '#45dc81','#b2e134','#5784df'],
                    tooltip: {
                        trigger: 'item',
                        formatter: "{a}{b}: {c} "
                    },
                    legend: {
                        data: ['实际', '计划'],
                        x: 'center',
                    },
                    grid: {
                        left: '3%',
                        right: '4%',
                        bottom: '3%',
                        containLabel: true
                    },
                    xAxis: {
                        show: false,
                        type: 'value',
                        boundaryGap: [0, 0.01],
                        splitLine:{
                            show:false
                        },

                    },
                    yAxis: {
                        type: 'category',
                        data: [],
                        axisLine: {
                            lineStyle: {
                                type: 'solid',
                                color: '#888',//左边线的颜色
                                width:'1'//坐标线的宽度
                            }
                        },
                    },
                    series: [
                        {
                            name: '实际',
                            type: 'bar',
                            barWidth:'30',
                            data: [res.data.facts],
                            label: {
                                normal: {
                                    show: true,
                                    position: 'right',
                                    color:'#0ee6fb'
                                }
                            },
                            itemStyle: {
                                normal: {
                                    color:  new echarts.graphic.LinearGradient(0, 0, 1, 0, [
                                        {
                                            offset: 0,
                                            color: "#950c22"
                                        },
                                        {
                                            offset: 1,
                                            color: "#ea4d5f"
                                        }
                                    ]),
                                }
                            }
                        },
                        {
                            name: '计划',
                            type: 'bar',
                            barWidth:'30',
                            barGap:'100%',
                            label: {
                                normal: {
                                    show: true,
                                    position: 'right',
                                    color:'#0ee6fb'
                                }
                            },
                            data: [res.data.plans],
                            itemStyle: {
                                normal: {
                                    color: new echarts.graphic.LinearGradient(0, 0,  1,0, [{
                                        offset: 0,
                                        color: '#0167e8'
                                    }, {
                                        offset: 1,
                                        color: '#13ace8'
                                    }]),
                                }
                            }
                        }
                    ]
                };
                //初始化echarts实例
                var myChart = echarts.init(document.getElementById(id));

                //使用制定的配置项和数据显示图表
                myChart.setOption(option);

            }
        });
    }
</script>
</html>